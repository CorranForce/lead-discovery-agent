{
  "query": "CREATE TABLE IF NOT EXISTS leadStatusHistory (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  leadId INT NOT NULL,\n  userId INT NOT NULL,\n  previousStatus ENUM('new', 'contacted', 'qualified', 'nurturing', 'won', 'lost', 'unresponsive') NOT NULL,\n  newStatus ENUM('new', 'contacted', 'qualified', 'nurturing', 'won', 'lost', 'unresponsive') NOT NULL,\n  changeReason VARCHAR(255),\n  triggeredBy ENUM('user', 'workflow', 'system') DEFAULT 'user',\n  metadata TEXT,\n  notes TEXT,\n  changedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  INDEX idx_leadId (leadId),\n  INDEX idx_userId (userId),\n  INDEX idx_changedAt (changedAt),\n  FOREIGN KEY (leadId) REFERENCES leads(id) ON DELETE CASCADE,\n  FOREIGN KEY (userId) REFERENCES users(id) ON DELETE CASCADE\n)",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2Vkk6KVFrhiW4tR.d342a31b6531 --database LaKXu62qWLapokNcy8enjg --execute CREATE TABLE IF NOT EXISTS leadStatusHistory (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  leadId INT NOT NULL,\n  userId INT NOT NULL,\n  previousStatus ENUM('new', 'contacted', 'qualified', 'nurturing', 'won', 'lost', 'unresponsive') NOT NULL,\n  newStatus ENUM('new', 'contacted', 'qualified', 'nurturing', 'won', 'lost', 'unresponsive') NOT NULL,\n  changeReason VARCHAR(255),\n  triggeredBy ENUM('user', 'workflow', 'system') DEFAULT 'user',\n  metadata TEXT,\n  notes TEXT,\n  changedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  INDEX idx_leadId (leadId),\n  INDEX idx_userId (userId),\n  INDEX idx_changedAt (changedAt),\n  FOREIGN KEY (leadId) REFERENCES leads(id) ON DELETE CASCADE,\n  FOREIGN KEY (userId) REFERENCES users(id) ON DELETE CASCADE\n)",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 116
}